{
  "summary": {
    "total_tests": 8,
    "passed": 8,
    "failed": 0,
    "success_rate": 100.0,
    "total_duration": 16.961589,
    "start_time": "2025-10-30T12:05:00.640598",
    "end_time": "2025-10-30T12:05:17.602187"
  },
  "results": [
    {
      "test_file": "test_quality_assurance.py",
      "passed": true,
      "duration": 0.104416,
      "stdout": "üß™ Probando Sistema de Aseguramiento de Calidad...\n\n================================================================================\n\n1Ô∏è‚É£ Test: Producto v√°lido\n   Resultado: ‚úÖ V√ÅLIDO\n\n2Ô∏è‚É£ Test: Producto inv√°lido\n   Resultado: ‚ùå INV√ÅLIDO: Producto 'CAMAR√ìN_GIGANTE' no es v√°lido. Productos v√°lidos: HOSO, HLSO, P&D IQF, P&D BLOQUE, EZ PEEL, PuD-EUROPA, PuD-EEUU, COOKED, PRE-COCIDO, COCIDO SIN TRATAR\n\n3Ô∏è‚É£ Test: Talla v√°lida\n   Resultado: ‚úÖ V√ÅLIDO\n\n4Ô∏è‚É£ Test: Talla inv√°lida\n   Resultado: ‚ùå INV√ÅLIDO: Talla '99/100' no es v√°lida. Tallas v√°lidas: U15, 16/20, 20/30, 21/25, 26/30, 30/40, 31/35, 36/40, 40/50, 41/50, 50/60, 51/60, 60/70, 61/70, 70/80, 71/90\n\n5Ô∏è‚É£ Test: Glaseo v√°lido (15%)\n   Resultado: ‚úÖ V√ÅLIDO\n\n6Ô∏è‚É£ Test: Glaseo inv√°lido (60%)\n   Resultado: ‚ùå INV√ÅLIDO: Glaseo 60% fuera de rango v√°lido (0% - 50%)\n\n7Ô∏è‚É£ Test: Precio v√°lido (HLSO $8.00/kg)\n   Resultado: ‚úÖ V√ÅLIDO\n\n8Ô∏è‚É£ Test: Precio fuera de rango (HLSO $50.00/kg)\n   Resultado: ‚ùå INV√ÅLIDO: Precio $50.00/kg para HLSO fuera de rango esperado ($4.00 - $12.00)\n\n9Ô∏è‚É£ Test: Validaci√≥n completa de cotizaci√≥n\n   Resultado: ‚úÖ V√ÅLIDO\n\nüîü Test: Validaci√≥n de m√∫ltiples productos\n   Resultado: ‚úÖ TODOS V√ÅLIDOS\n   V√°lidos: 2/2\n\n================================================================================\n‚úÖ Tests de QA completados!\n================================================================================\n",
      "stderr": "‚ö†Ô∏è Precio $50.00/kg para HLSO fuera de rango esperado ($4.00 - $12.00)\n",
      "return_code": 0
    },
    {
      "test_file": "test_flexible_glaseo.py",
      "passed": true,
      "duration": 2.791665,
      "stdout": "üß™ Probando conversi√≥n flexible de glaseo...\n\n================================================================================\nF√≥rmula: Factor = 1 - (percentage / 100)\n================================================================================\n\n‚úÖ Glaseo 10%:\n   Esperado: 0.9\n   Calculado: 0.9\n   F√≥rmula: 1 - (10/100) = 0.9\n\n‚úÖ Glaseo 14%:\n   Esperado: 0.86\n   Calculado: 0.86\n   F√≥rmula: 1 - (14/100) = 0.86\n\n‚úÖ Glaseo 15%:\n   Esperado: 0.85\n   Calculado: 0.85\n   F√≥rmula: 1 - (15/100) = 0.85\n\n‚úÖ Glaseo 20%:\n   Esperado: 0.8\n   Calculado: 0.8\n   F√≥rmula: 1 - (20/100) = 0.8\n\n‚úÖ Glaseo 25%:\n   Esperado: 0.75\n   Calculado: 0.75\n   F√≥rmula: 1 - (25/100) = 0.75\n\n‚úÖ Glaseo 30%:\n   Esperado: 0.7\n   Calculado: 0.7\n   F√≥rmula: 1 - (30/100) = 0.7\n\n‚úÖ Glaseo 5%:\n   Esperado: 0.95\n   Calculado: 0.95\n   F√≥rmula: 1 - (5/100) = 0.95\n\n‚úÖ Glaseo 50%:\n   Esperado: 0.5\n   Calculado: 0.5\n   F√≥rmula: 1 - (50/100) = 0.5\n\n================================================================================\n‚úÖ Todos los tests pasaron!\n================================================================================\n\nüìã Ejemplos pr√°cticos:\n\nUsuario: 'Proforma HLSO 16/20 con glaseo 15%'\n   ‚Üí Factor calculado: 0.85\n   ‚Üí Precio neto $10.00 √ó 0.85 = $8.50\n\nUsuario: 'Cotizaci√≥n HOSO 30/40 glaseo 25%'\n   ‚Üí Factor calculado: 0.75\n   ‚Üí Precio neto $8.00 √ó 0.75 = $6.00\n\nUsuario: 'HLSO 21/25 al 14%'\n   ‚Üí Factor calculado: 0.86\n   ‚Üí Precio neto $12.00 √ó 0.86 = $10.32\n",
      "stderr": "",
      "return_code": 0
    },
    {
      "test_file": "test_consolidated_quote.py",
      "passed": true,
      "duration": 4.185516,
      "stdout": "üß™ Probando cotizaci√≥n consolidada...\n\n1Ô∏è‚É£ Mensaje del usuario:\nPrecios para esto por favor ..\nHOSO 50-60 block 10x4\nHLSO 16-20 block 10x4\nHLSO 26-30 block 10x4\nHLSO 36-40 block 10x4\nHLSO 51-60 block 10x4\nPYD TAIL OFF 61-70 IQF 5X2\n16-20 EZPEEL IQF 10X2\n26-30 EZPEEL IQF 10X2\nDDP LA or Houston\n\n================================================================================\n\n2Ô∏è‚É£ Productos detectados: 8\n   1. HOSO 50/60\n   2. HLSO 16/20\n   3. HLSO 26/30\n   4. HLSO 36/40\n   5. HLSO 51/60\n   6. P&D IQF 61/70\n   7. EZ PEEL 16/20\n   8. EZ PEEL 26/30\n\n3Ô∏è‚É£ Calculando precios con glaseo 20%...\n   ‚úÖ HOSO 50/60: $4.07/kg\n   ‚úÖ HLSO 16/20: $7.05/kg\n   ‚úÖ HLSO 26/30: $5.99/kg\n   ‚úÖ HLSO 36/40: $5.73/kg\n   ‚úÖ HLSO 51/60: $5.20/kg\n   ‚úÖ P&D IQF 61/70: $6.07/kg\n   ‚úÖ EZ PEEL 16/20: $8.57/kg\n   ‚úÖ EZ PEEL 26/30: $7.46/kg\n\n4Ô∏è‚É£ Precios calculados: 8/8\n\n5Ô∏è‚É£ Generando PDF consolidado...\n   ‚úÖ PDF generado: generated_pdfs\\cotizacion_BGR_consolidada_20251030_120507_7425.pdf\n   üìä Tama√±o: 2767 bytes\n\n‚úÖ ¬°Test completado exitosamente!\n",
      "stderr": "Credenciales de Google Sheets no configuradas, usando datos de ejemplo\nCredenciales de Google Sheets no configuradas, usando datos de ejemplo\n",
      "return_code": 0
    },
    {
      "test_file": "test_hoso_3040_calculation.py",
      "passed": true,
      "duration": 3.567725,
      "stdout": "üß™ Probando c√°lculo HOSO 30/40...\n\nüìã Par√°metros:\n   Producto: HOSO\n   Talla: 30/40\n   Glaseo: 20% (factor 0.8)\n   Flete: $0.15\n\n‚úÖ Resultado del c√°lculo:\n   üìä Precio base (Excel): $5.52/kg\n   üö¢ Precio FOB: $5.52/kg\n   ‚ùÑÔ∏è Precio con glaseo: $4.19/kg\n   üí∞ Precio FOB + glaseo: $4.48/kg\n   ‚úàÔ∏è Precio CFR (final): $4.63/kg\n\nüßÆ Verificaci√≥n manual del c√°lculo:\n   1. Precio base: $5.52\n   2. Precio neto = $5.52 - $0.29 = $5.23\n   3. Precio con glaseo = $5.23 √ó 0.8 = $4.19\n   4. Precio FOB + glaseo = $4.19 + $0.29 = $4.48\n   5. Precio CFR = $4.48 + $0.15 = $4.63\n\nüìä Comparaci√≥n:\n   Calculado: $4.63\n   Manual: $4.63\n   Excel esperado: $4.63\n\n‚úÖ El c√°lculo coincide con el Excel!\n",
      "stderr": "Credenciales de Google Sheets no configuradas, usando datos de ejemplo\nCredenciales de Google Sheets no configuradas, usando datos de ejemplo\n",
      "return_code": 0
    },
    {
      "test_file": "test_session_preservation.py",
      "passed": true,
      "duration": 0.132377,
      "stdout": "üß™ Probando preservaci√≥n de sesi√≥n...\n\n1Ô∏è‚É£ Guardando idioma y cotizaci√≥n...\n   ‚úÖ Idioma guardado: es\n   ‚úÖ Cotizaci√≥n guardada: HOSO 30/40\n\n2Ô∏è‚É£ Limpiando sesi√≥n...\n   ‚úÖ Sesi√≥n limpiada\n\n3Ô∏è‚É£ Verificando datos preservados...\n   ‚úÖ Idioma preservado: es\n   ‚úÖ Cotizaci√≥n preservada: HOSO 30/40\n\n‚úÖ Todos los tests pasaron!\n",
      "stderr": "",
      "return_code": 0
    },
    {
      "test_file": "test_routes_flete.py",
      "passed": true,
      "duration": 2.659032,
      "stdout": "",
      "stderr": "",
      "return_code": 0
    },
    {
      "test_file": "test_routes_glaseo.py",
      "passed": true,
      "duration": 2.569255,
      "stdout": "",
      "stderr": "",
      "return_code": 0
    },
    {
      "test_file": "test_natural_conversation.py",
      "passed": true,
      "duration": 0.932124,
      "stdout": "üß™ Probando conversaci√≥n natural con GPT...\n\n================================================================================\n‚ö†Ô∏è OpenAI no est√° disponible. Configura OPENAI_API_KEY para probar.\n",
      "stderr": "",
      "return_code": 0
    }
  ]
}